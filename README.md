# Плагин FL Yandex Turbo для CMS Joomla

#### Данный плагин сильно устарел в техническом плане. Но тем не менее он был адаптирован под Joomla 4. Дальнейшее развитие плагина в плане добавления нового функционала приостановлено, исправляются лишь критические баги. Решение, которое наследует наработки данного плагина будет опубликовано позднее.

Минимальные системные требования - **Joomla 4** и **PHP 7.4**. Может хоть кого-то это простимулирует перейти на более свежие версии PHP.

### 1. Что это?
FL Yandex Turbo - плагин Яндекс.Турбо страниц для Joomla, поддерживающий материалы компонентов Content, Zoo, K2, JoomShopping и Virtuemart.

### 2. Поддержка компонентов
Плагин из коробки поддерживает работу со стандартными материалами Joomla, компонентами Zoo, JoomShopping и Virtuemart.

Все компоненты, с которыми бесплатно работает плагин, входят в стандартный пакет установки.

### 3. Принцип работы
Плагин выбирает из базы материалы в соответствии с условиями, заданными в настройках. Для каждого из компонентов есть масса опций по выборке отображения материалов. Для Zoo* поддерживается неограниченное количество приложений и типов, которые можно выбрать в настройках. Никаких id элементов, только настройка из административной части плагина или Zoo.

Плагин может добавлять в верхнюю часть турбо страницы вступительное изображение. Для этого в настройках каждого из компонентов должна быть выбрана соответствующая настройка. В качестве вступительного изображения выстыупают:

В соответствии с настройками плагин может обрабатывать контент - находить изображения, оборачивать их тэгом figure и добавлять к ним figcaption. В дополнение к этому, плагин удаляет ненужные тэги и в соответствии с настройками, удаляет пустые тэги.

### 4. Особенности
Для отображения рекламы на сайте плагин добавляет к тексту материала соответствующую разметку - одну перед текстом материала, другую - после, всего 2 блока. Вам лишь стоит выбрать и настроить систему рекламы в настройках. Если Вам нужно добавить 2 блока рекламы, внизу и вверху, в настройках необходимо добавить блок рекламы дважды.

Плагин может показывать отдельные ленты каждого компонента, для этого к адресной строке необходимо добавить лишь параметр component с необходимым компонентом, например, `&component=content`, `&component=zoo` или `&component=k2`

Плагин может показывать отдельные ленты материалов, категорий и вручную добавленных страниц, для этого к адресной строке необходимо добавить лишь параметр, например, `&mode=items`, `&mode=categories` или `&component=custom` соответственно

Иногда с одновременным включением нескольких компонентов и выводом большого количества материалов в ленту сервера не справляются с нагрузкой. Для таких случаев, имеет смысл разделить ленту на страницы. Для этого к адресной строке необходимо добавить параметр page с нужной страницей, например, `&page=2`

Кеширование плагина не зависит от глобальных настроек кеша сайта.

Если Вам необходим какой-то специфический текст, то плагин может отрендерить 2 модульные позиции, одну ДО контента (она называется `fl-yandex-turbo-top`) и одну после контента (она называется `fl-yandex-turbo-bottom`). Этих позиций Вы не найдете у себя в шаблоне, поэтому их необходимо вставить вручную. Смело добавляйте любой модуль в эти позиции, и он будет отображен там, где надо. HTML код в модулях будет очищен в соответствии с настройками плагина.

Если Вы решили отображать на сайте форму обратной связи в виде кнопки или в конце материала, но Вы не хотите ее отображать на каких-то определенных страницах, просто добавьте в тело материала тэг `{flyandexturbo_no_form}`. После этого форма не будет отображаться на странице конкретно этого материала.

Плагин может удалять из материала контент, который Вы не хотите там видеть. Для этого добавьте к тэгу класс noflyandexturbo. После этого данный тэг вместе со всем содержимым будет удален из ленты.

## Лицензия
GNU GPL v2.0 or later. [Подробнее](https://github.com/fiction13/plg_ajax_flyandexturbo/blob/master/LICENSE)